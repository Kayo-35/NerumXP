<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seus Registros - Gerenciamento de Finanças</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        
        .card-registro {
            height: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .card-registro:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .card-renda {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }
        
        .card-despesa {
            background: linear-gradient(135deg, #dc3545, #fd7e14);
            color: white;
        }
        
        .card-arquivado {
            opacity: 0.5;
        }
        
        .categoria-icon {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            opacity: 0.8;
        }
        
        .importancia-stars {
            position: absolute;
            bottom: 10px;
            left: 15px;
            color: #ffc107;
        }
        
        .marca-dagua {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 3rem;
            opacity: 0.2;
            font-weight: bold;
            pointer-events: none;
        }
        
        .valor-registro {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .nome-registro {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .datas-registro {
            font-size: 0.85rem;
            opacity: 0.9;
        }
        
        .modal-card {
            border-radius: 15px;
            border: none;
        }
        
        .modal-header-custom {
            border-radius: 15px 15px 0 0;
        }
        
        .page-title {
            color: #495057;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="page-title">Seus Registros</h1>
        
        <div class="row g-4" id="registros-container">
            <!-- Os cartões serão gerados dinamicamente pelo JavaScript -->
        </div>
    </div>

    <!-- Modal para detalhes do registro -->
    <div class="modal fade" id="modalDetalhes" tabindex="-1" aria-labelledby="modalDetalhesLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content modal-card">
                <div class="modal-header modal-header-custom" id="modal-header">
                    <h5 class="modal-title" id="modalDetalhesLabel">Detalhes do Registro</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modal-body">
                    <!-- Conteúdo será preenchido dinamicamente -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Dados dos registros
        const registros = [
            {
                id: 1,
                nome: "Aluguel",
                valor: 800.00,
                tipo: "despesa",
                criadoEm: "01/07/2024",
                atualizadoEm: "01/07/2024",
                categoria: "moradia",
                status: "ativo",
                importancia: 4,
                pago: true
            },
            {
                id: 2,
                nome: "Transporte",
                valor: 150.00,
                tipo: "despesa",
                criadoEm: "01/07/2024",
                atualizadoEm: "01/07/2024",
                categoria: "transporte",
                status: "ativo",
                importancia: 3,
                pago: false
            },
            {
                id: 3,
                nome: "Salário",
                valor: 1500.00,
                tipo: "renda",
                criadoEm: "01/07/2024",
                atualizadoEm: "01/07/2024",
                categoria: "trabalho",
                status: "ativo",
                importancia: 5,
                pago: true
            },
            {
                id: 4,
                nome: "Supermercado",
                valor: 300.00,
                tipo: "despesa",
                criadoEm: "02/07/2024",
                atualizadoEm: "02/07/2024",
                categoria: "alimentacao",
                status: "ativo",
                importancia: 4,
                pago: true
            },
            {
                id: 5,
                nome: "Freelance",
                valor: 500.00,
                tipo: "renda",
                criadoEm: "03/07/2024",
                atualizadoEm: "03/07/2024",
                categoria: "trabalho",
                status: "arquivado",
                importancia: 3,
                pago: true
            },
            {
                id: 6,
                nome: "Internet",
                valor: 100.00,
                tipo: "despesa",
                criadoEm: "04/07/2024",
                atualizadoEm: "04/07/2024",
                categoria: "moradia",
                status: "ativo",
                importancia: 2,
                pago: false
            },
            {
                id: 7,
                nome: "Lazer",
                valor: 80.00,
                tipo: "despesa",
                criadoEm: "05/07/2024",
                atualizadoEm: "05/07/2024",
                categoria: "lazer",
                status: "ativo",
                importancia: 1,
                pago: true
            },
            {
                id: 8,
                nome: "Dividendos",
                valor: 200.00,
                tipo: "renda",
                criadoEm: "06/07/2024",
                atualizadoEm: "06/07/2024",
                categoria: "investimentos",
                status: "ativo",
                importancia: 5,
                pago: true
            },
            {
                id: 9,
                nome: "Academia",
                valor: 70.00,
                tipo: "despesa",
                criadoEm: "07/07/2024",
                atualizadoEm: "07/07/2024",
                categoria: "saude",
                status: "ativo",
                importancia: 3,
                pago: false
            }
        ];

        // Mapeamento de ícones por categoria
        const iconesCategoria = {
            'moradia': 'bi-house-fill',
            'transporte': 'bi-car-front-fill',
            'trabalho': 'bi-briefcase-fill',
            'alimentacao': 'bi-basket-fill',
            'lazer': 'bi-controller',
            'investimentos': 'bi-graph-up',
            'saude': 'bi-heart-pulse-fill'
        };

        // Função para gerar estrelas de importância
        function gerarEstrelas(importancia) {
            let estrelas = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= importancia) {
                    estrelas += '<i class="bi bi-star-fill"></i>';
                } else {
                    estrelas += '<i class="bi bi-star"></i>';
                }
            }
            return estrelas;
        }

        // Função para formatar valor em moeda
        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        // Função para criar um cartão
        function criarCartao(registro) {
            const tipoClass = registro.tipo === 'renda' ? 'card-renda' : 'card-despesa';
            const arquivadoClass = registro.status === 'arquivado' ? 'card-arquivado' : '';
            const iconeCategoria = iconesCategoria[registro.categoria] || 'bi-circle';
            const marcaDagua = registro.pago ? '<div class="marca-dagua">PAGO</div>' : '';
            
            return `
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <div class="card card-registro ${tipoClass} ${arquivadoClass}" onclick="abrirModal(${registro.id})">
                        <div class="card-body d-flex flex-column justify-content-center text-center position-relative">
                            <i class="bi ${iconeCategoria} categoria-icon"></i>
                            ${marcaDagua}
                            
                            <div class="nome-registro">${registro.nome}</div>
                            <div class="valor-registro">${formatarMoeda(registro.valor)}</div>
                            <div class="datas-registro">
                                <div>Criado em: ${registro.criadoEm}</div>
                                <div>Atualizado em: ${registro.atualizadoEm}</div>
                            </div>
                            
                            <div class="importancia-stars">
                                ${gerarEstrelas(registro.importancia)}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Função para abrir modal com detalhes
        function abrirModal(id) {
            const registro = registros.find(r => r.id === id);
            if (!registro) return;

            const tipoClass = registro.tipo === 'renda' ? 'bg-success' : 'bg-danger';
            const tipoTexto = registro.tipo === 'renda' ? 'Receita' : 'Despesa';
            const statusTexto = registro.status === 'ativo' ? 'Ativo' : 'Arquivado';
            const pagoTexto = registro.pago ? 'Sim' : 'Não';
            
            // Atualizar header do modal
            document.getElementById('modal-header').className = `modal-header modal-header-custom ${tipoClass}`;
            document.getElementById('modalDetalhesLabel').textContent = `Detalhes - ${registro.nome}`;
            
            // Atualizar conteúdo do modal
            document.getElementById('modal-body').innerHTML = `
                <div class="row">
                    <div class="col-md-6">
                        <h6><strong>Informações Básicas</strong></h6>
                        <p><strong>Nome:</strong> ${registro.nome}</p>
                        <p><strong>Valor:</strong> ${formatarMoeda(registro.valor)}</p>
                        <p><strong>Tipo:</strong> <span class="badge ${tipoClass}">${tipoTexto}</span></p>
                        <p><strong>Status:</strong> <span class="badge ${registro.status === 'ativo' ? 'bg-success' : 'bg-secondary'}">${statusTexto}</span></p>
                    </div>
                    <div class="col-md-6">
                        <h6><strong>Detalhes Adicionais</strong></h6>
                        <p><strong>Categoria:</strong> <i class="bi ${iconesCategoria[registro.categoria]}"></i> ${registro.categoria.charAt(0).toUpperCase() + registro.categoria.slice(1)}</p>
                        <p><strong>Importância:</strong> ${gerarEstrelas(registro.importancia)}</p>
                        <p><strong>Pago:</strong> ${pagoTexto}</p>
                        <p><strong>Criado em:</strong> ${registro.criadoEm}</p>
                        <p><strong>Atualizado em:</strong> ${registro.atualizadoEm}</p>
                    </div>
                </div>
            `;
            
            // Mostrar modal
            const modal = new bootstrap.Modal(document.getElementById('modalDetalhes'));
            modal.show();
        }

        // Renderizar todos os cartões
        function renderizarCartoes() {
            const container = document.getElementById('registros-container');
            container.innerHTML = registros.map(registro => criarCartao(registro)).join('');
        }

        // Inicializar a página
        document.addEventListener('DOMContentLoaded', function() {
            renderizarCartoes();
        });
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seus Registros - Gerenciamento de Finanças</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body{background:#f8f9fa}
        .card-registro{height:200px;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;border-radius:15px;box-shadow:0 4px 8px rgba(0,0,0,.1);color:white}
        .card-registro:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.2)}
        .card-renda{background:linear-gradient(135deg,#28a745,#20c997)}
        .card-despesa{background:linear-gradient(135deg,#dc3545,#fd7e14)}
        .card-arquivado{opacity:.5}
        .categoria-icon{position:absolute;top:10px;right:15px;font-size:1.5rem;opacity:.8}
        .importancia-stars{position:absolute;bottom:10px;left:15px;color:#ffc107}
        .marca-dagua{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-45deg);font-size:3rem;opacity:.2;font-weight:bold;pointer-events:none}
        .valor-registro{font-size:1.5rem;font-weight:bold;margin:10px 0}
        .nome-registro{font-size:1.2rem;font-weight:600;margin-bottom:5px}
        .datas-registro{font-size:.85rem;opacity:.9}
        .page-title{color:#495057;font-weight:700;margin-bottom:2rem;text-align:center}
        .modal-card{border-radius:15px;border:none}
        .modal-header-custom{border-radius:15px 15px 0 0}
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="page-title">Seus Registros</h1>
        <div class="row g-4" id="registros-container"><!-- Os cartões serão gerados dinamicamente pelo JavaScript --></div>
    </div>

    <div class="modal fade" id="modalDetalhes" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content modal-card">
                <div class="modal-header modal-header-custom" id="modal-header">
                    <h5 class="modal-title" id="modalDetalhesLabel">Detalhes do Registro</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="modal-body"><!-- Conteúdo será preenchido dinamicamente --></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const registros=[
            {id:1,nome:"Aluguel",valor:800,tipo:"despesa",criadoEm:"01/07/2024",atualizadoEm:"01/07/2024",categoria:"moradia",status:"ativo",importancia:4,pago:true},
            {id:2,nome:"Transporte",valor:150,tipo:"despesa",criadoEm:"01/07/2024",atualizadoEm:"01/07/2024",categoria:"transporte",status:"ativo",importancia:3,pago:false},
            {id:3,nome:"Salário",valor:1500,tipo:"renda",criadoEm:"01/07/2024",atualizadoEm:"01/07/2024",categoria:"trabalho",status:"ativo",importancia:5,pago:true},
            {id:4,nome:"Supermercado",valor:300,tipo:"despesa",criadoEm:"02/07/2024",atualizadoEm:"02/07/2024",categoria:"alimentacao",status:"ativo",importancia:4,pago:true},
            {id:5,nome:"Freelance",valor:500,tipo:"renda",criadoEm:"03/07/2024",atualizadoEm:"03/07/2024",categoria:"trabalho",status:"arquivado",importancia:3,pago:true},
            {id:6,nome:"Internet",valor:100,tipo:"despesa",criadoEm:"04/07/2024",atualizadoEm:"04/07/2024",categoria:"moradia",status:"ativo",importancia:2,pago:false},
            {id:7,nome:"Lazer",valor:80,tipo:"despesa",criadoEm:"05/07/2024",atualizadoEm:"05/07/2024",categoria:"lazer",status:"ativo",importancia:1,pago:true},
            {id:8,nome:"Dividendos",valor:200,tipo:"renda",criadoEm:"06/07/2024",atualizadoEm:"06/07/2024",categoria:"investimentos",status:"ativo",importancia:5,pago:true},
            {id:9,nome:"Academia",valor:70,tipo:"despesa",criadoEm:"07/07/2024",atualizadoEm:"07/07/2024",categoria:"saude",status:"ativo",importancia:3,pago:false}
        ];

        const iconesCategoria={moradia:'bi-house-fill',transporte:'bi-car-front-fill',trabalho:'bi-briefcase-fill',alimentacao:'bi-basket-fill',lazer:'bi-controller',investimentos:'bi-graph-up',saude:'bi-heart-pulse-fill'};

        const fmt=v=>new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(v);
        const stars=n=>'★'.repeat(n)+'☆'.repeat(5-n);

        function criarCartao(r){
            const tipo=r.tipo==='renda'?'card-renda':'card-despesa';
            const arquivado=r.status==='arquivado'?'card-arquivado':'';
            const icone=iconesCategoria[r.categoria]||'bi-circle';
            const marca=r.pago?'<div class="marca-dagua">PAGO</div>':'';
            
            return `<div class="col-lg-4 col-md-6">
                <div class="card card-registro ${tipo} ${arquivado}" onclick="abrirModal(${r.id})">
                    <div class="card-body d-flex flex-column justify-content-center text-center position-relative">
                        <i class="bi ${icone} categoria-icon"></i>
                        ${marca}
                        <div class="nome-registro">${r.nome}</div>
                        <div class="valor-registro">${fmt(r.valor)}</div>
                        <div class="datas-registro">
                            <div>Criado em: ${r.criadoEm}</div>
                            <div>Atualizado em: ${r.atualizadoEm}</div>
                        </div>
                        <div class="importancia-stars">${stars(r.importancia)}</div>
                    </div>
                </div>
            </div>`;
        }

        function abrirModal(id){
            const r=registros.find(x=>x.id===id);
            if(!r)return;

            const tipoClass=r.tipo==='renda'?'bg-success':'bg-danger';
            const tipoTexto=r.tipo==='renda'?'Receita':'Despesa';
            const statusTexto=r.status==='ativo'?'Ativo':'Arquivado';
            
            document.getElementById('modal-header').className=`modal-header modal-header-custom ${tipoClass}`;
            document.getElementById('modalDetalhesLabel').textContent=`Detalhes - ${r.nome}`;
            
            document.getElementById('modal-body').innerHTML=`
                <div class="row">
                    <div class="col-md-6">
                        <h6><strong>Informações Básicas</strong></h6>
                        <p><strong>Nome:</strong> ${r.nome}</p>
                        <p><strong>Valor:</strong> ${fmt(r.valor)}</p>
                        <p><strong>Tipo:</strong> <span class="badge ${tipoClass}">${tipoTexto}</span></p>
                        <p><strong>Status:</strong> <span class="badge ${r.status==='ativo'?'bg-success':'bg-secondary'}">${statusTexto}</span></p>
                    </div>
                    <div class="col-md-6">
                        <h6><strong>Detalhes Adicionais</strong></h6>
                        <p><strong>Categoria:</strong> <i class="bi ${iconesCategoria[r.categoria]}"></i> ${r.categoria.charAt(0).toUpperCase()+r.categoria.slice(1)}</p>
                        <p><strong>Importância:</strong> ${stars(r.importancia)}</p>
                        <p><strong>Pago:</strong> ${r.pago?'Sim':'Não'}</p>
                        <p><strong>Criado em:</strong> ${r.criadoEm}</p>
                        <p><strong>Atualizado em:</strong> ${r.atualizadoEm}</p>
                    </div>
                </div>`;
            
            new bootstrap.Modal(document.getElementById('modalDetalhes')).show();
        }

        document.addEventListener('DOMContentLoaded',()=>{
            document.getElementById('registros-container').innerHTML=registros.map(criarCartao).join('');
        });
    </script>
</body>
</html>

